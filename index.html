<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>Teste Auditivo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="apple-touch-icon" href="icon.png">

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
  background:#f2f2f7;
}

.container{
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}

.content{
  text-align:center;
  padding:30px;
  transform: translateY(40px); /* desce ligeiramente */
}

.screen{display:none}
.screen.active{display:block}

h1{
  font-size:32px;
  margin-bottom:20px;
}

p{
  font-size:22px;
  margin-bottom:30px;
}

button{
  border:none;
  border-radius:14px;
  color:#fff;
  margin:12px;
  cursor:pointer;
}

.play{
  background:#000;
  font-size:24px;
  padding:22px 46px;
  min-width:260px;
}

.play.playing{
  background:#444;
}

.yes{
  background:#34c759;
  font-size:20px;
  padding:16px 32px;
}

.no{
  background:#ff3b30;
  font-size:20px;
  padding:16px 32px;
}
</style>
</head>

<body>
<div class="container">
<div class="content">

<!-- Ecr√£ 1 -->
<div class="screen active" id="s1">
  <h1>Teste Auditivo</h1>
  <p>Vamos fazer um simples teste auditivo.</p>
  <button class="play" onclick="next(2)">Come√ßar</button>
</div>

<!-- Ecr√£ 2 -->
<div class="screen" id="s2">
  <p>Ou√ßa com aten√ß√£o e carregue no bot√£o para ouvir.</p>
  <button class="play" onclick="playSound(this,'a1')">Ouvir som #1</button><br>
  <button class="yes" onclick="next(3)">Ouvi</button>
  <button class="no" onclick="next(3)">N√£o ouvi</button>
</div>

<!-- Ecr√£ 3 -->
<div class="screen" id="s3">
  <p>Ou√ßa com aten√ß√£o e carregue no bot√£o para ouvir.</p>
  <button class="play" onclick="playSound(this,'a4')">Ouvir som #2</button><br>
  <button class="yes" onclick="next(4)">Ouvi</button>
  <button class="no" onclick="next(4)">N√£o ouvi</button>
</div>

<!-- Ecr√£ 4 -->
<div class="screen" id="s4">
  <p>Ou√ßa com aten√ß√£o e carregue no bot√£o para ouvir.</p>
  <button class="play" onclick="playSound(this,'a8')">Ouvir som #3</button><br>
  <button class="yes" onclick="finish()">Ouvi</button>
  <button class="no" onclick="finish()">N√£o ouvi</button>
</div>

<!-- Ecr√£ final -->
<div class="screen" id="s5">
  <h1>Resultado</h1>
  <p>
    Se n√£o ouviu os 3 sons,<br>
    <strong>marque j√° uma consulta gratuita.</strong>
  </p>
</div>

<audio id="a1" src="1kHz.mp3"></audio>
<audio id="a4" src="4kHz.mp3"></audio>
<audio id="a8" src="8kHz.mp3"></audio>

</div>
</div>

<script>
function next(n){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById('s'+n).classList.add('active');
}

function finish(){
  next(5);
}

function playSound(button, audioId){
  const audio = document.getElementById(audioId);

  button.classList.add('playing');
  const originalText = button.innerHTML;
  button.innerHTML = "üîä A reproduzir...";
  button.disabled = true;

  audio.currentTime = 0;
  audio.play();

  audio.onended = () => {
    button.classList.remove('playing');
    button.innerHTML = originalText;
  };
}
</script>

</body>
</html>
