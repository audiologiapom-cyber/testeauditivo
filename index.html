<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>Teste Auditivo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

<style>
/* ===============================
   CORES INSTITUCIONAIS
================================ */
:root{
  --azul-topo: #EEF6FD;
  --azul-logo: #0054A6;
  --azul-escuro: #002B55;

  --sucesso: #1E88E5;
  --neutro: #90A4AE;

  --texto: #1f2933;
}

/* ===============================
   MODO QUIOSQUE
================================ */
html, body{
  height:100%;
  overflow:hidden;
  touch-action: manipulation;
  user-select:none;
}

/* ===============================
   CORPO
================================ */
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
  background: linear-gradient(to bottom, var(--azul-topo), var(--azul-escuro));
  color:var(--texto);
}

/* ===============================
   LOGO
================================ */
.logo{
  position:fixed;
  top:12px;
  left:12px;
  width:100px;
  z-index:1000;
}

/* ===============================
   LAYOUT
================================ */
.container{
  height:100%;
  display:flex;
  justify-content:center;
}

.content{
  width:100%;
  max-width:900px;
  text-align:center;
  padding:120px 30px 30px; /* mais acima */
}

/* ===============================
   TELAS
================================ */
.screen{display:none}
.screen.active{display:block}

/* ===============================
   TEXTO
================================ */
h1{
  font-size:42px;
  margin-bottom:25px;
  color:var(--azul-logo);
}

p{
  font-size:28px;
  margin-bottom:40px;
  line-height:1.5;
}

/* ===============================
   BOT칏ES
================================ */
button{
  border:none;
  border-radius:22px;
  color:#fff;
  margin:16px;
  cursor:pointer;
  transition:0.2s ease;
  position:relative;
}

/* Bot칚o som */
.play{
  background:var(--azul-logo);
  font-size:28px;
  padding:28px 60px;
  min-width:300px;
  box-shadow:0 10px 25px rgba(0,0,0,0.25);
}

.play:hover,
.play.playing{
  background:#003F80;
  transform:translateY(-2px);
}

/* Ouvi */
.yes{
  background:var(--sucesso);
  font-size:24px;
  padding:20px 44px;
  min-width:160px;
}

/* N칚o ouvi */
.no{
  background:var(--neutro);
  font-size:24px;
  padding:20px 44px;
  min-width:160px;
}

/* ===============================
   ANIMA칂칏ES
================================ */
@keyframes fadeIn{
  from{opacity:0; transform:translateY(30px);}
  to{opacity:1; transform:none;}
}

.screen.active *{
  animation:fadeIn 0.6s ease;
}

/* Onda sonora */
@keyframes wave{
  0%{box-shadow:0 0 0 rgba(255,255,255,0.4);}
  50%{box-shadow:0 0 35px rgba(0,84,166,0.7);}
  100%{box-shadow:0 0 0 rgba(255,255,255,0.4);}
}

.play.playing::after{
  content:'';
  position:absolute;
  top:50%;
  left:50%;
  width:80%;
  height:80%;
  border-radius:50%;
  transform:translate(-50%,-50%);
  animation:wave 1s infinite;
}

/* ===============================
   RESULTADO FINAL
================================ */
#resultado-box{
  background:rgba(255,255,255,0.95);
  padding:40px;
  border-radius:26px;
  box-shadow:0 20px 40px rgba(0,0,0,0.25);
}

#resultado-texto{
  font-size:30px;
  font-weight:bold;
  color:#003F80;
}

#cta{
  display:none;
  margin-top:25px;
  background:var(--azul-logo);
  color:#fff;
  padding:16px 28px;
  border-radius:18px;
  font-size:28px;
}

/* ===============================
   RESPONSIVO
================================ */
@media (max-width:1024px){
  h1{font-size:38px;}
  p{font-size:26px;}
  .play{font-size:26px;}
}
</style>
</head>

<body>

<img src="https://i.ibb.co/qYr7Pqbn/parente-ca.png" class="logo" alt="Logo">

<div class="container">
<div class="content">

<!-- IN칈CIO -->
<div class="screen active" id="s1">
  <h1>Bem-vindo ao Teste Auditivo</h1>
  <p>Vamos fazer um simples teste auditivo. 칄 r치pido e seguro.</p>
  <button class="play" onclick="next(2)">Come칞ar</button>
</div>

<!-- SOM 1 -->
<div class="screen" id="s2">
  <p>Ou칞a com aten칞칚o e carregue no bot칚o para ouvir.</p>
  <button class="play" onclick="playSound(this,'a1')">Ouvir som #1</button><br>
  <button class="yes" onclick="resposta(true,3)">Ouvi</button>
  <button class="no" onclick="resposta(false,3)">N칚o ouvi</button>
</div>

<!-- SOM 2 -->
<div class="screen" id="s3">
  <p>Ou칞a com aten칞칚o e carregue no bot칚o para ouvir.</p>
  <button class="play" onclick="playSound(this,'a4')">Ouvir som #2</button><br>
  <button class="yes" onclick="resposta(true,4)">Ouvi</button>
  <button class="no" onclick="resposta(false,4)">N칚o ouvi</button>
</div>

<!-- SOM 3 -->
<div class="screen" id="s4">
  <p>Ou칞a com aten칞칚o e carregue no bot칚o para ouvir.</p>
  <button class="play" onclick="playSound(this,'a8')">Ouvir som #3</button><br>
  <button class="yes" onclick="resposta(true,5)">Ouvi</button>
  <button class="no" onclick="resposta(false,5)">N칚o ouvi</button>
</div>

<!-- RESULTADO -->
<div class="screen" id="s5">
  <div id="resultado-box">
    <h1>Resultado</h1>
    <p id="resultado-texto"></p>
    <div id="cta">Marque j치 uma consulta gratuita na Parente 칍ptica M칠dica</div>
  </div>
</div>

<audio id="a1" src="1kHz.mp3"></audio>
<audio id="a4" src="4kHz.mp3"></audio>
<audio id="a8" src="8kHz.mp3"></audio>

</div>
</div>

<script>
let ouvidos = 0;
let resetTimer = null;

/* Navega칞칚o */
function next(n){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById('s'+n).classList.add('active');
}

/* Guardar respostas */
function resposta(ouvi, nextScreen){
  if(ouvi) ouvidos++;
  if(nextScreen === 5) mostrarResultado();
  next(nextScreen);
}

/* Resultado din칙mico + rein칤cio autom치tico */
function mostrarResultado(){
  const texto = document.getElementById('resultado-texto');
  const cta = document.getElementById('cta');

  if(ouvidos === 3){
    texto.innerHTML = "Excelente! Ouviu todos os sons.<br>A sua audi칞칚o aparenta estar dentro da normalidade.";
    cta.style.display = "none";
  } else {
    texto.innerHTML = `Ouviu ${ouvidos} de 3 sons.<br>Recomendamos uma avalia칞칚o auditiva gratuita.`;
    cta.style.display = "block";
  }

  resetTimer = setTimeout(reiniciar, 30000);
}

/* Rein칤cio */
function reiniciar(){
  ouvidos = 0;
  clearTimeout(resetTimer);
  next(1);
}

/* Som */
function playSound(btn,id){
  const audio=document.getElementById(id);
  btn.classList.add('playing');
  const t=btn.innerHTML;
  btn.innerHTML="游댉 A reproduzir...";
  btn.disabled=true;
  audio.currentTime=0;
  audio.play();
  audio.onended=()=>{
    btn.classList.remove('playing');
    btn.innerHTML=t;
    btn.disabled=false;
  }
}

/* Fullscreen autom치tico */
document.addEventListener('click',()=>{
  if(!document.fullscreenElement){
    document.documentElement.requestFullscreen().catch(()=>{});
  }
},{once:true});
</script>

</body>
</html>
